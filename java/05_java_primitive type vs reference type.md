# java변수의 기본형 & 참조형 타입 차이 이해하기

```
변수의 기본형 & 참조형 타입변수(variable)란?
데이터(data)를 저장하기 위해 프로그램에 의해 이름을 할당받은 메모리 공간을 의미한다. 

그리고 자바에서 말하는데이터 타입(자료형)이란?
변수에 적재할 데이터가 메모리에 어떻게 저장되고 프로그램에서 어떻게 처리되어야 하는지를 명시적으로 알려주는 키워드 이다.

이 데이터 타입(자료형)은 크게 기본형 타입 과 참조형 타입으로 구분 된다.

**기본형(primitive type)** : 계산을 위해 실제 값을 저장한다.
기본형 타입 (Primitive Type)기본형 타입에는 크게 논리형 (boolean),문자형 (char),  
정수형 (byte, short, int, long), 실수형 (float, double) 으로 나뉜다.
기본형 타입에 대한 특징으로는 다음과 같다.모두 소문자로 시작된다 비객체 타입이므로 null 값을 가질 수 없다.(기본값이 정해져 있음)변수의 선언과 동시에 메모리 생성,모든 값 타입은 메모리의 스택(stack)에 저장됨, 저장공간에 실제 자료 값을 가진다

vs

**참조형(reference type)** : 객체의 주소를 저장한다. 
null 또는 객체의 주소(4byte, 0x0 ~ 0xffffffff)를 갖는다.
참조형 타입 (Reference Type)참조형 타입은 간단히 말하자면, 위의 8가지 자료형(primitive type)을 제외한 나머지를 말한다고 보면 된다. 
기본적으로 제공하는 클래스, 프로그래머가 스스로 만든 클래스, 배열, 열거 타입 등을 모두 참조형이라고 한다.
참조형 타입 특징으로는 다음과 같다.기본형 과는 달리 실제 값이 저장되지 않고, 자료가 저장된 공간의 주소를 저장한다.즉, 실제 값은 다른 곳에 있으며 값이 있는 주소를 가지고 있어서 나중에 그 주소를 참조해서 값을 가져온다.메모리의 힙(heap)에 실제 값을 저장하고, 그 참조값(주소값)을 갖는 변수는 스택에 저장참조형 변수는 null로 초기화 시킬 수 있다.

```

![https://blog.kakaocdn.net/dn/dcbIHT/btrJqmtgWX5/giQYNKnXym9b6p63G7lIw1/img.png](https://blog.kakaocdn.net/dn/dcbIHT/btrJqmtgWX5/giQYNKnXym9b6p63G7lIw1/img.png)

![https://blog.kakaocdn.net/dn/qsVDL/btrJt4ye6md/K6KZej6Wg5bxRVcKFeXZ91/img.png](https://blog.kakaocdn.net/dn/qsVDL/btrJt4ye6md/K6KZej6Wg5bxRVcKFeXZ91/img.png)

![https://blog.kakaocdn.net/dn/cMMV5h/btrJvktwuq5/CA9aSGWi5bFPQTKpAlaSD1/img.jpg](https://blog.kakaocdn.net/dn/cMMV5h/btrJvktwuq5/CA9aSGWi5bFPQTKpAlaSD1/img.jpg)

![https://blog.kakaocdn.net/dn/b3Fd8e/btrJren0bQN/GUGyWN7r7I47VK9rj0lVgk/img.jpg](https://blog.kakaocdn.net/dn/b3Fd8e/btrJren0bQN/GUGyWN7r7I47VK9rj0lVgk/img.jpg)

```java
힙 영역 (Heap)
역할: 힙 영역은 동적으로 할당된 데이터가 저장되는 공간입니다. 
여기에는 프로그램 실행 중에 필요에 따라 생성되고 크기가 다른 데이터들이 저장됩니다.
특성:
동적 할당: new 연산자를 사용하여 필요할 때마다 메모리를 할당받고, 
delete 연산자를 사용하여 할당된 메모리를 해제할 수 있습니다.
사용 범위: 힙 영역에 할당된 데이터는 해당 데이터를 생성한 코드 블록이 종료되어도 유지됩니다. 
따라서 객체 인스턴스나 배열과 같은 데이터 구조를 저장하는 데 사용됩니다.

스택 영역 (Stack)
역할: 스택 영역은 지역 변수 및 메서드 호출 시 생성되는 프레임들이 저장되는 공간입니다. 
이 영역은 함수나 메서드의 호출과 함께 할당되며, 호출이 끝나면 자동으로 해제됩니다.
특성:
정적 할당: 스택 영역에 저장되는 데이터는 컴파일 시점에 정확히 얼마나 필요한지 알려져 있어, 
정적으로 할당됩니다.
사용 범위: 변수나 객체의 참조가 스택 프레임에 할당되어, 해당 프레임 내에서만 접근할 수 있습니다. 
따라서 지역 변수나 매개변수 등을 저장하는 데 주로 사용됩니다.

번지 (Address)
의미: 번지(address)는 메모리 상의 특정 위치를 가리키는 값입니다. 
변수나 객체 인스턴스가 메모리 상의 어디에 위치하는지를 나타냅니다.
활용: 변수나 객체 인스턴스를 식별하고 참조할 때, 번지 값이 사용됩니다. 
프로그램 내에서 객체를 다룰 때 이 번지 값을 통해 해당 객체의 데이터에 접근할 수 있습니다.

요약

힙 영역: 동적 할당된 데이터가 저장되며, 객체 인스턴스와 배열 등의 데이터 구조에 사용됩니다.

스택 영역: 지역 변수와 메서드 호출 시 생성되는 프레임이 저장되며, 
함수나 메서드가 종료되면 자동으로 해제됩니다.

번지: 메모리 상의 **특정 위치**를 나타내며, 변수나 객체 인스턴스를 식별하고 참조할 때 사용됩니다.
```

```java
Java에서 실제 객체는 H**eap 영역**에 저장되며 
참조 타입 변수는 스택 영역에 실제 객체들의 **주소를 저장하여 객체를 사용할 때마다 
참조 변수에 저장된 객체의 주소를 불러와 사용하는 방식**이다.

 

**Stack 영역**
**지역 변수, 파라미터, 리턴 값, 연산에 사용되는 임시 값등이 생성되는 영역**이다. 
**메소드를 호출할 때마다 스택 영역이 생성**되고, 
기본 타입 변수나 참조 타입 **변수가 쌓이고 사라지고 반복**한다.

기본 타입 변수의 경우에 int a = 10; 이라는 코드를 작성했다면 
정수 값이 할당될 수 있는 a라는 이름의 메모리 공간이 스택 영역에 생성되고 
10이라는 값이 들어간다.

참조 타입 변수의 경우에는 클래스 Person p = new Person(); 이라는 코드를 작성했다면
p라는 이름의 메모리 공간이 스택 영역에 생성되고 생성된 p의 인스턴스는 Heap 영역에 생성된다.

스택 영역에 생성된 p는 Heap 영역에 생성된 p의 인스턴스(생성된 개체) 주소 값을 가지게 된다.

Heap 영역
new 키워드로 생성된 객체와 배열이 생성되는 영역이다. 
메소드 영역에 로드된 클래스만 생성이 가능하고 쓰레기 수집기(Garbage Collector)
(참조하는 변수나 필드가 없다면 의미없는 개체가 되기 때문에 가비지컬렉터가 실행되어 
자동으로 제거함)가 참조되지 않는 메모리를 확인하고 제거하는 영역이다.

```

```java
인스턴스(Instance)란 객체 지향 프로그래밍에서 클래스를 기반으로 생성된 실제 객체를 의미합니다. 즉, 클래스를 사용하여 생성된 실체화된 개체(instance)를 말합니다. 예를 들어, 클래스 Person을 정의하고 Person p = new Person(); 라는 코드를 사용하여 객체를 생성하면, p는 Person 클래스의 인스턴스입니다.

구체적으로 설명하면:
클래스 정의: Person 클래스는 코드로 정의되어 있어야 합니다. 
예를 들어, 다음과 같이 정의할 수 있습니다.

java
코드 복사
public class Person {
    // 클래스 내용
}
인스턴스 생성: Person p = new Person(); 라는 코드는 다음과 같은 작업을 수행합니다.

new Person()은 Heap 영역에 Person 클래스의 새로운 인스턴스를 생성합니다.
p는 이 새로운 인스턴스를 가리키는 참조 변수입니다.
따라서, p는 실제로는 객체가 있는 곳(Heap 영역의 인스턴스)을 가리키는 것입니다.
인스턴스의 특성: 이 인스턴스는 Person 클래스의 정의에 따라 그 속성과 메서드를 가지고 있습니다.
예를 들어, Person 클래스에는 이름, 나이 등의 속성이 있을 수 있고, 
이를 다루기 위한 메서드도 정의할 수 있습니다.

Heap 영역과 스택 영역:

p라는 변수는 스택(Stack) 영역에 생성됩니다. 스택 영역에서는 변수들의 참조 값들이 관리됩니다.
new Person()에 의해 생성된 실제 객체(인스턴스)는 Heap 영역에 할당됩니다. 
Heap 영역에서는 객체의 데이터(속성 값 등)가 저장됩니다.
따라서, 객체 지향 프로그래밍에서 인스턴스는 클래스를 기반으로 생성된 실체화된 객체를 의미하며,
메모리에서는 인스턴스는 Heap 영역에 할당되고, 인스턴스를 참조하는 변수는 스택 영역에 할당됩니다.
```

```java
참조 변수의 ==, != 연산

기본 타입 변수의 ==, != 연산은 변수의 값이 같은지, 아닌지를 조사하지만 
참조 타입 변수들 간의 ==, != 연산은 동일한 객체를 참조하는지, 
다른 객체를 참조하는지 알아볼 때 사용됩니다. 
**동일한 번지 값을 가지고 있다는 것은 동일한 객체를 참조한다는 의미**입니다. 
따라서 동일한 객체를 참조학 있을 경우 == 연산의 결과는 true이고 != 연산의 결과는 false입니다. 
이는 참조변수는 값을 저장하지 않고 위치주소(번지 값)를 가지고 있기 때문입니다. 
스택영역에 주소를 저장하는 변수를 만들고 힙영역에 참조변수를 생성하고 
스택영역에 있는 변수에 힙영역의 주소를 저장하는 것입니다.

*인스턴스(Instance)란 객체 지향 프로그래밍에서 클래스를 기반으로 생성된 실제 객체를 의미

인스턴스가 있어, 인스턴스에는 변수와 참조변수가 있어. 근데 우리가 참조타입에서 연산을 하면,
스택영역(메모리영역)에 변수(힙에 저장하는 주소를 저장하는)를 만들고, 
힙영역(번지가 있는)에 참조변수를 만들어.
스택영역에 있는 변수에는 참조변수( 힙영역에 저장된 번지)를 저장하고 있는 변수를 만드는 것.

null과 NullPointerException

참조 타입 변수는 힙 영역의 객체를 참조하지 않는다는 뜻으로 null값을 가질 수 있습니다. null 값도 초기값으로 사용할 수 있기 때문에 null로 초기화된 참조변수는 값으로 null을 가지고 힙영역에 생성을 하지 않습니다.

자바는 프로그램 실행 도중에 발생하는 오류를 예외(exception)라고 부릅니다. 예외는 사용자의 잘못된 입력으로 발생할 수도 있고, 프로그래머가 코드를 잘못 작성해서 발생할 수도 있습니다. 참조변수를 사용하면서 가장 많이 발생하는 예외 중 하나로 NUllPointerException이 있습니다. 이 예외는 참조 타입 변수를 잘못 사용하면 발생합니다. 참조변수가 null을 가지고 있을 경우에는, 참조객체가 없으므로 변수를 통해 객체를 사용할 수 없습니다. 만약에 null 상태에서 있지도 않은 객체의 필드나 메소드를 사용하는 코드를 실행하면 NullPointerException이 발생합니다.

String 타입

자바는 문자열을 String 변수에 저장합니다. String 타입은 기본타입처럼 사용되기 때문에 기본타입으로 착각할 수 있지만 String은 참조타입입니다. String의 대문자 S로 시작되기 때문에 클래스이며 참조변수입니다. 다른 클래스와 달리 일반 기본 타입 변수들처럼 사용할 수 있습니다. 이는 문자열이 굉장히 많이 쓰이는 타입이기 때문입니다. 문자열은 크기가 정해져 있지 않기때문에 기본 타입의 변수가 될 수 없고 생성 시에 힙영역에 존재하게 됩니다. 일반적으로 변수에 문자열을 저장할 경우에는 문자열 리터럴을 사용하지만, new 연산자를 사용해서 직접 String 객체를 생성시킬 수도 있습니다. new 연산자는 힙 영역에 새로운 객체를 만들 때 사용하는 연산자로 객체 생성 연산자라고 합니다. String 타입을 문자열 리터럴로 생성하느냐 new 연산자로 생성하느냐에 따라 비교 연산자의 결과는 달라질 수 있습니다. 예제를 통해 살펴보도록 하겠습니다.
```

```java
위의 예제에서 보면 String 타입인 str1과 str2에 모두 "홍길동"이라는 문자열을 넣습니다. 원래 str1과 str2는 다른 변수이지만 같은 리터럴을 저장하게되어 같은 주소를 저장하게 됩니다. 자바에서는 JVM이 메모리를 관리해서 같은 리터럴을 추가로 생성하지 않습니다. 그래서 같은 주소를 참조하게 되는 것입니다. 그러므로 str1과 str2는 같은 값을 가지며 같은 주소를 가진다는 의미는 하나의 객체를 가르킨다는 뜻이고 당연히 같은 값을 가집니다. str3와 str4는 new 연산자를 사용하여 값을 저장합니다. new 연산자는 힙영역에 변수를 생성합니다. 그래서 str3를 힙영역에 생성하고 그 값을 "이순신"으로 저장하게 됩니다. str4도 마찬가지로 작동합니다. str3와 str4는 각각 힙영역에 생성되었습니다. 그래서 서로 다른 주소를 갖게 되지만 같은 값인 "이순신"을 가지므로 값은 같게 됩니다. equals 메소드는 값을 비교할 때 사용하는 메소드입니다. 앞으로 참조변수에서 값을 비교할 때 많이 사용되는 메소드니 잘 지억해 두시기 바랍니다.
```

**`쓸데없이 드는 의문** , 객체가 아닌 기본타입의 변수와 참조타입의 인스턴스의 **차이**`

```java
네, 인스턴스(Instance)와 변수(Variable)는 서로 다른 개념입니다. 다음은 각각의 개념을 설명한 것입니다:

인스턴스 (Instance)
정의: 객체 지향 프로그래밍에서 클래스를 기반으로 생성된 실체화된 개체를 말합니다.
특성:
클래스의 인스턴스는 클래스에 정의된 속성(멤버 변수)와 메서드(멤버 함수)를 포함합니다.
각 인스턴스는 고유한 상태를 가질 수 있으며, 
동일한 클래스에서 생성되었더라도 각 인스턴스는 서로 다른 데이터를 가질 수 있습니다.
생성: new 키워드를 사용하여 클래스의 인스턴스를 생성합니다. 
예를 들어, Person p = new Person();에서 p는 Person 클래스의 인스턴스입니다.

변수 (Variable)
정의: 변수는 값을 저장하고 참조하기 위한 이름이나 식별자입니다.
특성:
변수는 메모리 공간에서 값을 저장하며, 해당 값에 접근할 수 있는 방법을 제공합니다.
변수는 데이터 타입에 따라 정의됩니다. 
예를 들어, 정수를 저장하는 변수는 int num;과 같이 선언할 수 있습니다.
변수는 스코프(scope)에 따라 접근 가능한 범위가 결정됩니다.
사용: 프로그램에서 변수는 값을 할당하고, 이 값을 읽거나 변경하여 
프로그램의 동작을 제어하는 데 사용됩니다.

차이점
개념적 차이: 인스턴스는 클래스를 기반으로 실제로 생성된 객체를 나타내는 것이며, 
변수는 데이터를 저장하고 접근하기 위한 이름이나 식별자입니다.
역할: 인스턴스는 객체의 실체를 표현하고, 변수는 데이터를 관리하고 조작하는 데 사용됩니다.
위치: 인스턴스는 Heap 영역에 할당되고, 변수는 일반적으로 스택(Stack) 영역에 할당됩니다.
따라서, 인스턴스와 변수는 서로 다른 개념이며, 
객체 지향 프로그래밍에서 클래스를 기반으로 하여 
데이터와 동작을 포함하는 실체화된 객체를 다룰 때 인스턴스라는 용어를 사용합니다.
```

```jsx
객체는 붕어빵틀과 같다.. 찍어낸 붕어빵이 다 같은게 아니듯..
객체에 포함되는 함수들도 다 같지 않지만 붕어빵들이 똑같이 생겨서 구별이 어려워
힙에 저장된 번지로 찾는것 그게 참조변수고 참조변수를 확인하는게 변수
```

